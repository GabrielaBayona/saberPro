<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Beneficio - Saber TyT</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/admin.css}">
</head>

<body>

<div class="container-fluid">
    <div class="row">

        <!-- SIDEBAR ESTUDIANTE -->
        <nav class="col-md-2 sidebar p-3">
            <h4 class="mb-4">üéì Mi Panel</h4>
            
            <div class="nav flex-column">
                <a th:href="@{/estudiante/dashboard}">üìä Dashboard</a>
                <a th:href="@{/estudiante/identificacion}">üÜî Identificaci√≥n</a>
                <a th:href="@{/estudiante/resultado-global}">üéØ Resultado Global</a>
                <a th:href="@{/estudiante/resultados-asignaturas}">üìö Resultados por Asignatura</a>
                <a th:href="@{/estudiante/beneficio}" class="active">üéÅ Mi Beneficio</a>
                <a th:href="@{/estudiante/comparacion}">üìà Comparaci√≥n</a>
                <hr class="bg-white my-3">
                <a th:href="@{/logout}" class="text-danger">üö™ Cerrar Sesi√≥n</a>
            </div>
        </nav>

        <!-- CONTENIDO PRINCIPAL -->
        <div class="col-md-10 p-4">
            
            <!-- BREADCRUMB -->
            <nav aria-label="breadcrumb" class="mb-3">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a th:href="@{/estudiante/dashboard}">Dashboard</a></li>
                    <li class="breadcrumb-item active">Mi Beneficio</li>
                </ol>
            </nav>

            <!-- HEADER -->
            <div class="mb-4">
                <h2>üéÅ Mi Beneficio seg√∫n Acuerdo UTS</h2>
                <p class="text-muted">Incentivos acad√©micos y econ√≥micos seg√∫n tu desempe√±o</p>
            </div>

            <!-- RESUMEN DE MI BENEFICIO -->
            <div class="card shadow-lg mb-4" 
                 th:classappend="${colorIncentivo == 'success'} ? 'border-success' : 
                                (${colorIncentivo == 'warning'} ? 'border-warning' : 
                                (${colorIncentivo == 'primary'} ? 'border-primary' : 
                                (${colorIncentivo == 'danger'} ? 'border-danger' : 'border-secondary')))"
                 style="border-width: 5px !important;">
                <div class="card-header text-white"
                     th:style="${colorIncentivo == 'success'} ? 'background: linear-gradient(135deg, #28a745 0%, #20c997 100%);' : 
                               (${colorIncentivo == 'warning'} ? 'background: linear-gradient(135deg, #ffc107 0%, #fd7e14 100%); color: #000;' : 
                               (${colorIncentivo == 'primary'} ? 'background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);' : 
                               (${colorIncentivo == 'danger'} ? 'background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);' : 
                               'background: linear-gradient(135deg, #6c757d 0%, #5a6268 100%);')))">
                    <h5 class="mb-0">üèÜ Tu Incentivo Obtenido</h5>
                </div>
                <div class="card-body">
                    <div class="text-center p-4">
                        <div class="mb-4">
							<span style="font-size: 4rem;"
							      th:text="${colorIncentivo == 'success' ? 'üèÜ' :
							                (colorIncentivo == 'warning' ? '‚≠ê' :
							                (colorIncentivo == 'primary' ? '‚úÖ' :
							                (colorIncentivo == 'danger' ? '‚ö†Ô∏è' : 'üìå')))}">
							</span>
                        </div>
                        
                        <div class="mb-4">
                            <span class="badge fs-3 px-5 py-3"
                                  th:classappend="${colorIncentivo == 'success'} ? 'bg-success' : 
                                                 (${colorIncentivo == 'warning'} ? 'bg-warning text-dark' : 
                                                 (${colorIncentivo == 'primary'} ? 'bg-primary' : 
                                                 (${colorIncentivo == 'danger'} ? 'bg-danger' : 'bg-secondary')))"
                                  th:text="${incentivo}">
                                Excelente
                            </span>
                        </div>
                        
                        <h3 class="mb-4" th:text="${descripcionIncentivo}">
                            Exoneraci√≥n de Seminario de grado II con nota 5.0 + 100% beca derechos de grado
                        </h3>

                        <div class="row text-center mt-5">
                            <div class="col-md-6">
                                <div class="p-4 bg-light rounded">
                                    <h6 class="text-muted mb-2">Tu Puntaje</h6>
                                    <h1 class="display-4 mb-0" th:text="${estudiante.puntajeSaberPro}">200</h1>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="p-4 bg-light rounded">
                                    <h6 class="text-muted mb-2">Nivel Alcanzado</h6>
                                    <h1 class="display-4 mb-0" th:text="${estudiante.nivelSaberPro}">Nivel 4</h1>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>

            <!-- DETALLES DEL BENEFICIO -->
            <div th:if="${incentivo == 'Excelente' || incentivo == 'Muy Bueno' || incentivo == 'Bueno'}" 
                 class="card shadow-lg mb-4 border-success">
                <div class="card-header bg-success text-white">
                    <h5 class="mb-0">‚úÖ ¬°Felicitaciones! Cumples con los Requisitos</h5>
                </div>
                <div class="card-body">
                    <div class="alert alert-success mb-4">
                        <h5 class="alert-heading mb-3">
                            <span style="font-size: 2rem;">üéâ</span> Has obtenido un incentivo acad√©mico
                        </h5>
                        <p class="lead">Tu destacado desempe√±o en la prueba Saber TyT te hace acreedor a los siguientes beneficios:</p>
                    </div>

                    <div class="row g-4 mb-4">
                        <div class="col-md-6" th:if="${incentivo == 'Excelente' || incentivo == 'Muy Bueno' || incentivo == 'Bueno'}">
                            <div class="card h-100 border-primary">
                                <div class="card-body">
                                    <h5 class="card-title">üìù Beneficio Acad√©mico</h5>
                                    <ul class="list-unstyled">
                                        <li class="mb-2">‚úì <strong>Exoneraci√≥n de Seminario de grado II</strong></li>
                                        <li class="mb-2" th:if="${incentivo == 'Excelente'}">‚úì Nota asignada: <strong>5.0</strong></li>
                                        <li class="mb-2" th:if="${incentivo == 'Muy Bueno'}">‚úì Nota asignada: <strong>4.7</strong></li>
                                        <li class="mb-2" th:if="${incentivo == 'Bueno'}">‚úì Nota asignada: <strong>4.5</strong></li>
                                        <li>‚úì Sin necesidad de cursar la asignatura</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-6" th:if="${incentivo == 'Excelente' || incentivo == 'Muy Bueno'}">
                            <div class="card h-100 border-warning">
                                <div class="card-body">
                                    <h5 class="card-title">üí∞ Beneficio Econ√≥mico</h5>
                                    <ul class="list-unstyled">
                                        <li class="mb-2" th:if="${incentivo == 'Excelente'}">‚úì <strong>100% de beca</strong> en derechos de grado</li>
                                        <li class="mb-2" th:if="${incentivo == 'Muy Bueno'}">‚úì <strong>50% de beca</strong> en derechos de grado</li>
                                        <li class="mb-2">‚úì Reducci√≥n de costos de graduaci√≥n</li>
                                        <li>‚úì Aplicable al momento de tramitar el grado</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6" th:if="${incentivo == 'Bueno'}">
                            <div class="card h-100 border-info">
                                <div class="card-body">
                                    <h5 class="card-title">‚ÑπÔ∏è Informaci√≥n</h5>
                                    <p>En tu categor√≠a <strong>"Bueno"</strong> obtienes:</p>
                                    <ul class="list-unstyled">
                                        <li class="mb-2">‚úì Exoneraci√≥n acad√©mica √∫nicamente</li>
                                        <li>‚úì No incluye beca econ√≥mica</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card bg-light">
                        <div class="card-body">
                            <h6 class="mb-3"><strong>üìã Requisitos para Aplicar tu Beneficio:</strong></h6>
                            <ol class="mb-0">
                                <li class="mb-2">Haber presentado y <strong>aprobado</strong> la propuesta de trabajo de grado ante el comit√© correspondiente</li>
                                <li class="mb-2">Haber <strong>matriculado</strong> formalmente la asignatura Seminario de grado II en el periodo acad√©mico</li>
                                <li class="mb-2">Aplicar el beneficio dentro de la <strong>vigencia de 1 a√±o</strong> desde la fecha de publicaci√≥n oficial de los resultados ICFES</li>
                                <li class="mb-2">Presentar copia del certificado de resultados Saber TyT emitido por el ICFES</li>
                                <li>Los incentivos <strong>NO son acumulables</strong> con otros beneficios ni son <strong>transferibles</strong> a terceros</li>
                            </ol>
                        </div>
                    </div>

                    <div class="alert alert-warning mt-4">
                        <h6 class="alert-heading">‚è∞ Importante sobre la Vigencia</h6>
                        <p class="mb-0">
                            Recuerda que tu incentivo tiene vigencia de <strong>1 a√±o</strong> desde la publicaci√≥n oficial 
                            de los resultados por parte del ICFES. Aseg√∫rate de gestionar tu beneficio dentro de este plazo 
                            con el Departamento de Registro Acad√©mico.
                        </p>
                    </div>
                </div>
            </div>

            <!-- SIN INCENTIVO -->
            <div th:if="${incentivo == 'Sin incentivo'}" class="card shadow-lg mb-4 border-secondary">
                <div class="card-header bg-secondary text-white">
                    <h5 class="mb-0">üìå Sin Incentivo</h5>
                </div>
                <div class="card-body">
                    <div class="alert alert-warning">
                        <h5 class="alert-heading">Informaci√≥n sobre tu Resultado</h5>
                        <hr>
                        <p>Tu puntaje de <strong th:text="${estudiante.puntajeSaberPro}">115</strong> puntos cumple con el requisito m√≠nimo de graduaci√≥n (80 puntos), pero no alcanza el umbral necesario para acceder a incentivos institucionales.</p>
                        <p class="mb-0">Para acceder a beneficios necesitas obtener al menos <strong>120 puntos</strong> en la prueba Saber TyT.</p>
                    </div>

                    <div class="card bg-light mt-4">
                        <div class="card-body">
                            <h6 class="mb-3"><strong>üí° Recomendaciones:</strong></h6>
                            <ul class="mb-0">
                                <li class="mb-2">Puedes graduarte normalmente cursando Seminario de grado II de forma regular</li>
                                <li class="mb-2">Considera prepararte mejor y presentar nuevamente la prueba en la pr√≥xima convocatoria</li>
                                <li>Consulta con tu programa acad√©mico sobre cursos de preparaci√≥n disponibles</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- NO APTO -->
            <div th:if="${incentivo == 'No Apto'}" class="card shadow-lg mb-4 border-danger">
                <div class="card-header bg-danger text-white">
                    <h5 class="mb-0">‚ö†Ô∏è Atenci√≥n Requerida</h5>
                </div>
                <div class="card-body">
                    <div class="alert alert-danger">
                        <h5 class="alert-heading">‚ö†Ô∏è Situaci√≥n Importante</h5>
                        <hr>
                        <p>Tu puntaje de <strong th:text="${estudiante.puntajeSaberPro}">75</strong> puntos est√° <strong>por debajo del m√≠nimo requerido</strong> para graduarte seg√∫n el reglamento estudiantil de las UTS.</p>
                        <p class="mb-0"><strong>Es OBLIGATORIO</strong> presentar nuevamente la prueba Saber TyT y obtener al menos <strong>80 puntos</strong> para poder obtener tu t√≠tulo profesional.</p>
                    </div>

                    <div class="card bg-light mt-4">
                        <div class="card-body">
                            <h6 class="mb-3"><strong>üìå Pasos a Seguir:</strong></h6>
                            <ol class="mb-0">
                                <li class="mb-2"><strong>Contacta inmediatamente</strong> al Departamento de Registro Acad√©mico de tu programa</li>
                                <li class="mb-2">Inscr√≠bete en la <strong>pr√≥xima convocatoria</strong> de la prueba Saber TyT ante el ICFES</li>
                                <li class="mb-2">Consulta sobre los <strong>cursos de preparaci√≥n</strong> disponibles en la instituci√≥n</li>
                                <li class="mb-2">Prep√°rate adecuadamente para alcanzar el puntaje m√≠nimo de <strong>80 puntos</strong></li>
                                <li>No podr√°s tramitar tu grado hasta cumplir con este requisito obligatorio</li>
                            </ol>
                        </div>
                    </div>

                    <div class="alert alert-info mt-4">
                        <h6 class="alert-heading">‚ÑπÔ∏è Informaci√≥n Adicional</h6>
                        <p class="mb-0">
                            El requisito de puntaje m√≠nimo en Saber TyT es establecido por el Ministerio de Educaci√≥n Nacional 
                            y es de obligatorio cumplimiento para todas las instituciones de educaci√≥n superior en Colombia.
                        </p>
                    </div>
                </div>
            </div>

            <!-- TABLA DE TODOS LOS INCENTIVOS -->
            <div class="card shadow-lg mb-4">
                <div class="card-header bg-info text-white">
                    <h5 class="mb-0">üìã Tabla Completa de Incentivos UTS</h5>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-bordered table-hover">
                            <thead class="table-light">
                                <tr>
                                    <th class="text-center">Rango de Puntaje</th>
                                    <th class="text-center">Categor√≠a</th>
                                    <th>Beneficio Acad√©mico</th>
                                    <th>Beneficio Econ√≥mico</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr th:classappend="${estudiante.puntajeSaberPro > 171} ? 'table-success fw-bold' : ''">
                                    <td class="text-center"><strong>> 171 puntos</strong></td>
                                    <td class="text-center">
                                        <span class="badge bg-success fs-6">Excelente</span>
                                    </td>
                                    <td>Exoneraci√≥n Seminario II con nota <strong>5.0</strong></td>
                                    <td><strong>100%</strong> beca derechos de grado</td>
                                </tr>
                                <tr th:classappend="${estudiante.puntajeSaberPro >= 151 && estudiante.puntajeSaberPro <= 170} ? 'table-warning fw-bold' : ''">
                                    <td class="text-center"><strong>151 - 170 puntos</strong></td>
                                    <td class="text-center">
                                        <span class="badge bg-warning text-dark fs-6">Muy Bueno</span>
                                    </td>
                                    <td>Exoneraci√≥n Seminario II con nota <strong>4.7</strong></td>
                                    <td><strong>50%</strong> beca derechos de grado</td>
                                </tr>
                                <tr th:classappend="${estudiante.puntajeSaberPro >= 120 && estudiante.puntajeSaberPro <= 150} ? 'table-primary fw-bold' : ''">
                                    <td class="text-center"><strong>120 - 150 puntos</strong></td>
                                    <td class="text-center">
                                        <span class="badge bg-primary fs-6">Bueno</span>
                                    </td>
                                    <td>Exoneraci√≥n Seminario II con nota <strong>4.5</strong></td>
                                    <td>Sin beca econ√≥mica</td>
                                </tr>
                                <tr th:classappend="${estudiante.puntajeSaberPro >= 80 && estudiante.puntajeSaberPro < 120} ? 'table-secondary fw-bold' : ''">
                                    <td class="text-center"><strong>80 - 119 puntos</strong></td>
                                    <td class="text-center">
                                        <span class="badge bg-secondary fs-6">Sin incentivo</span>
                                    </td>
                                    <td colspan="2" class="text-center">Sin beneficios / Cursa Seminario II normalmente</td>
                                </tr>
                                <tr th:classappend="${estudiante.puntajeSaberPro < 80} ? 'table-danger fw-bold' : ''">
                                    <td class="text-center"><strong>< 80 puntos</strong></td>
                                    <td class="text-center">
                                        <span class="badge bg-danger fs-6">No Apto</span>
                                    </td>
                                    <td colspan="2" class="text-center"><strong>Debe presentar nuevamente la prueba para graduarse</strong></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="mt-3">
                        <small class="text-muted">
                            <strong>Nota:</strong> Los incentivos se rigen por el Acuerdo de Consejo Acad√©mico de las UTS 
                            y est√°n sujetos a disponibilidad presupuestal y cumplimiento de requisitos administrativos.
                        </small>
                    </div>
                </div>
            </div>

            <!-- CONTACTO -->
            <div class="card shadow-lg mb-4 border-info">
                <div class="card-header bg-info text-white">
                    <h5 class="mb-0">üìû ¬øNecesitas M√°s Informaci√≥n?</h5>
                </div>
                <div class="card-body">
                    <p>Para consultas sobre la aplicaci√≥n de tu beneficio o dudas sobre los requisitos, contacta a:</p>
                    <ul class="list-unstyled">
                        <li class="mb-2">üìß <strong>Registro Acad√©mico:</strong> registro@uts.edu.co</li>
                        <li class="mb-2">üìû <strong>Tel√©fono:</strong> (607) 635 2525 ext. 1234</li>
                        <li>üè¢ <strong>Oficina:</strong> Edificio Administrativo, 2do piso</li>
                    </ul>
                </div>
            </div>

            <!-- BOT√ìN REGRESAR -->
            <div class="text-center">
                <a th:href="@{/estudiante/dashboard}" class="btn btn-primary btn-lg">
                    ‚Üê Volver al Dashboard
                </a>
            </div>

        </div>

    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<style>
    .sidebar a.active {
        background: linear-gradient(90deg, #c0d72c, #a5c31f);
        color: #000;
        font-weight: bold;
    }
</style>

</body>
</html>